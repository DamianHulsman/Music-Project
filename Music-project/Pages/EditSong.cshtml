@page
@using Music_project.NewFolder
@using System.Data
@using Music_project.code
@model Music_project.Pages.XML.IndexModel
@{
    ViewData["Title"] = "Edit een muzieknummer";

    //XML
    songMethods xmlSongMethods = new songMethods();
    string xmlFile = @"\Data\Playlist.xml";
    List<Song> liedjes = xmlSongMethods.GetAllSongs(xmlFile);

    if (HttpMethods.IsPost(Request.Method))
    {
        //gegevens uit het formulier halen.
        string id = Request.Form["id"];
        string song = Request.Form["song"];
        string artist = Request.Form["artist"];
        string YOR = Request.Form["YOR"];

        DataRow newDr = xmlSongMethods.GetEmptyDataRow();
        newDr["id"] = id;
        newDr["title"] = song;
        newDr["artist"] = artist;
        newDr["year"] = YOR;


        xmlSongMethods.EditSong(id, newDr, xmlFile);
        Response.Redirect("/Playlist");
    }
}

<H1> GOEIE EDIT van @Request.Query["id"]</H1>

<form method="post">
<table class="table table-hover table-striped">
<tr>
        <td>
            <label>id</label>
        </td>
        <td>
            <input name="id" type="text" value="@Request.Query["id"]"/>
        </td>
    </tr><tr>
        <td>
            <label>song</label>
        </td><td>
            <input name="song" type="text">
        </td>
    </tr><tr>
        <td>
            <label>artist</label>
        </td>
        <td>
            <input name="artist" type="text" />
        </td>
    </tr><tr>
        <td>
            <label>Year of release</label>
        </td><td>
            <input name="YOR" type="text">
        </td>
    </tr><tr>
        <td></td>
        <td>
            <input type="submit" />
        </td>
    </tr>
</table>
</form>